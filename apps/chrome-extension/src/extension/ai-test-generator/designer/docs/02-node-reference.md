# èŠ‚ç‚¹å‚è€ƒ

æœ¬æ–‡æ¡£æè¿°å¯è§†åŒ–æµ‹è¯•è®¾è®¡å™¨ä¸­æ‰€æœ‰å¯ç”¨èŠ‚ç‚¹ç±»å‹åŠå…¶é…ç½®é€‰é¡¹ã€‚

## ç›®å½•

- [ç‰¹æ®ŠèŠ‚ç‚¹](#ç‰¹æ®ŠèŠ‚ç‚¹)
- [åŠ¨ä½œèŠ‚ç‚¹](#åŠ¨ä½œèŠ‚ç‚¹)
- [éªŒè¯èŠ‚ç‚¹](#éªŒè¯èŠ‚ç‚¹)
- [æ§åˆ¶èŠ‚ç‚¹](#æ§åˆ¶èŠ‚ç‚¹)
- [æ•°æ®èŠ‚ç‚¹](#æ•°æ®èŠ‚ç‚¹)

---

## ç‰¹æ®ŠèŠ‚ç‚¹

### å¼€å§‹ (Start)

æ ‡è®°æµ‹è¯•æµç¨‹çš„èµ·å§‹ç‚¹ã€‚

**é…ç½®é€‰é¡¹:** æ— 

**ç«¯å£:**
- è¾“å‡º: 1 ä¸ª

**ç¤ºä¾‹:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼€å§‹   â”‚ â”€â”€â†’
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ç»“æŸ (End)

æ ‡è®°æµ‹è¯•æµç¨‹çš„ç»ˆæ­¢ç‚¹ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| description | string | å¦ | ç»“æŸè¯´æ˜ |

**ç«¯å£:**
- è¾“å…¥: 1 ä¸ª

---

### æ³¨é‡Š (Comment)

ä¸ºæµç¨‹æ·»åŠ è¯´æ˜æ–‡å­—ï¼Œä¸å½±å“æ‰§è¡Œã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| content | string | å¦ | æ³¨é‡Šå†…å®¹ |

**ç«¯å£:** æ— 

---

### å­æµç¨‹ (Subflow)

å¼•ç”¨å…¶ä»–æµç¨‹ä½œä¸ºå­æµç¨‹ï¼Œå®ç°æ¨¡å—åŒ–å¤ç”¨ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| flowId | string | æ˜¯ | å­æµç¨‹ ID |
| inputs | object | å¦ | è¾“å…¥å‚æ•°æ˜ å°„ |

**ç«¯å£:**
- è¾“å…¥: 1 ä¸ª
- è¾“å‡º: 1 ä¸ª

---

## åŠ¨ä½œèŠ‚ç‚¹

### ç‚¹å‡» (Click)

ç‚¹å‡»æŒ‡å®šå…ƒç´ ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨ |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |
| onFailure | string | å¦ | å¤±è´¥ç­–ç•¥ï¼šstop/skip/retry |
| description | string | å¦ | æ­¥éª¤æè¿° |

**YAML ç¤ºä¾‹:**
```yaml
- click:
    target: button.submit
```

---

### è¾“å…¥ (Input)

åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡æœ¬ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨ |
| value | string | æ˜¯ | è¾“å…¥å†…å®¹ |
| clearBefore | boolean | å¦ | è¾“å…¥å‰æ¸…ç©ºï¼Œé»˜è®¤ true |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |
| onFailure | string | å¦ | å¤±è´¥ç­–ç•¥ï¼šstop/skip/retry |

**YAML ç¤ºä¾‹:**
```yaml
- input:
    target: input.username
    value: test@example.com
```

---

### æ»šåŠ¨ (Scroll)

æ»šåŠ¨é¡µé¢æˆ–å…ƒç´ ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | å¦ | ç›®æ ‡å…ƒç´ ï¼Œç©ºè¡¨ç¤ºé¡µé¢ |
| direction | string | å¦ | æ–¹å‘ï¼šup/down/left/right/intoView |
| amount | number | å¦ | æ»šåŠ¨è·ç¦»ï¼ˆåƒç´ ï¼‰ï¼Œé»˜è®¤ 300 |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- scroll:
    direction: down
    amount: 500
```

---

### ç­‰å¾… (Wait)

ç­‰å¾…æŒ‡å®šæ—¶é—´ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| duration | number | æ˜¯ | ç­‰å¾…æ—¶é•¿ |
| unit | string | å¦ | å•ä½ï¼šms/sï¼Œé»˜è®¤ ms |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- wait:
    duration: 1000
```

---

### å¯¼èˆª (Navigate)

æ‰“å¼€æŒ‡å®š URLã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| url | string | æ˜¯ | ç›®æ ‡ URL |
| waitFor | string | å¦ | ç­‰å¾…ç±»å‹ï¼šload/domContentLoaded/networkIdle |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- navigate:
    url: https://example.com
    waitFor: load
```

---

### æ‚¬åœ (Hover)

é¼ æ ‡æ‚¬åœåœ¨æŒ‡å®šå…ƒç´ ä¸Šã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨ |
| duration | number | å¦ | æ‚¬åœæ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 500 |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- hover:
    target: div.menu-item
```

---

### æ‹–æ‹½ (Drag)

æ‹–æ‹½å…ƒç´ åˆ°ç›®æ ‡ä½ç½®ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | æºå…ƒç´ é€‰æ‹©å™¨ |
| destination | string | æ˜¯ | ç›®æ ‡ä½ç½®é€‰æ‹©å™¨ |
| duration | number | å¦ | æ‹–æ‹½æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 500 |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- drag:
    target: div.draggable
    destination: div.drop-zone
```

---

## éªŒè¯èŠ‚ç‚¹

### æ–­è¨€å­˜åœ¨ (Assert Exists)

éªŒè¯å…ƒç´ æ˜¯å¦å­˜åœ¨ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨ |
| shouldExist | boolean | å¦ | æ˜¯å¦åº”è¯¥å­˜åœ¨ï¼Œé»˜è®¤ true |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |
| onFailure | string | å¦ | å¤±è´¥ç­–ç•¥ï¼šstop/skip/retry |

**YAML ç¤ºä¾‹:**
```yaml
- assert:
    exists: div.success-message
```

---

### æ–­è¨€æ–‡æœ¬ (Assert Text)

éªŒè¯å…ƒç´ æ–‡æœ¬å†…å®¹ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨ |
| text | string | æ˜¯ | æœŸæœ›æ–‡æœ¬ |
| matchType | string | å¦ | åŒ¹é…ç±»å‹ï¼šexact/contains/regex |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- assert:
    contains:
      selector: h1
      text: Welcome
```

---

### æ–­è¨€çŠ¶æ€ (Assert State)

éªŒè¯å…ƒç´ çŠ¶æ€ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨ |
| state | string | æ˜¯ | çŠ¶æ€ï¼švisible/hidden/enabled/disabled/checked/unchecked |
| negate | boolean | å¦ | æ˜¯å¦å–åï¼Œé»˜è®¤ false |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- assert:
    visible:
      selector: button.submit
```

---

### AI æ–­è¨€ (AI Assert)

ä½¿ç”¨ AI éªŒè¯é¡µé¢çŠ¶æ€ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| assertion | string | æ˜¯ | è‡ªç„¶è¯­è¨€æ–­è¨€æè¿° |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**YAML ç¤ºä¾‹:**
```yaml
- assert:
    ai: é¡µé¢æ˜¾ç¤ºç™»å½•æˆåŠŸæç¤º
```

---

## æ§åˆ¶èŠ‚ç‚¹

### æ¡ä»¶åˆ†æ”¯ (If Else)

æ ¹æ®æ¡ä»¶æ‰§è¡Œä¸åŒåˆ†æ”¯ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| condition | string | æ˜¯ | æ¡ä»¶è¡¨è¾¾å¼ |
| trueLabel | string | å¦ | True åˆ†æ”¯æ ‡ç­¾ï¼Œé»˜è®¤ "True" |
| falseLabel | string | å¦ | False åˆ†æ”¯æ ‡ç­¾ï¼Œé»˜è®¤ "False" |
| timeout | number | å¦ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 30000 |

**ç«¯å£:**
- è¾“å…¥: 1 ä¸ª
- è¾“å‡º: 2 ä¸ªï¼ˆTrue/Falseï¼‰

**YAML ç¤ºä¾‹:**
```yaml
- if:
    condition: "${isLoggedIn} === true"
```

---

### å¾ªç¯ (Loop)

é‡å¤æ‰§è¡Œä¸€ç»„èŠ‚ç‚¹ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| type | string | æ˜¯ | å¾ªç¯ç±»å‹ï¼šcount/while/forEach |
| count | number | å¦ | è®¡æ•°å¾ªç¯æ¬¡æ•°ï¼Œé»˜è®¤ 3 |
| condition | string | å¦ | While å¾ªç¯æ¡ä»¶ |
| dataSource | string | å¦ | forEach æ•°æ®æº |
| itemVariable | string | å¦ | forEach è¿­ä»£å˜é‡å |
| maxIterations | number | å¦ | æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤ 50 |

**ç«¯å£:**
- è¾“å…¥: 1 ä¸ª
- è¾“å‡º: 1 ä¸ª
- å¾ªç¯ä½“: 1 ä¸ª

**YAML ç¤ºä¾‹:**
```yaml
# è®¡æ•°å¾ªç¯
- loop:
    type: count
    count: 5

# While å¾ªç¯
- loop:
    type: while
    whileCondition: "${hasMore} === true"

# ForEach å¾ªç¯
- loop:
    type: forEach
    dataSource: "${items}"
    itemVariable: item
```

---

### å¹¶è¡Œ (Parallel)

åŒæ—¶æ‰§è¡Œå¤šä¸ªåˆ†æ”¯ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| branches | number | æ˜¯ | åˆ†æ”¯æ•°é‡ï¼Œé»˜è®¤ 2 |
| waitAll | boolean | å¦ | æ˜¯å¦ç­‰å¾…æ‰€æœ‰åˆ†æ”¯ï¼Œé»˜è®¤ true |
| failFast | boolean | å¦ | å¤±è´¥æ—¶æ˜¯å¦ç«‹å³åœæ­¢ï¼Œé»˜è®¤ false |
| maxConcurrency | number | å¦ | æœ€å¤§å¹¶å‘æ•° |

**ç«¯å£:**
- è¾“å…¥: 1 ä¸ª
- è¾“å‡º: N ä¸ªï¼ˆæ ¹æ® branches é…ç½®ï¼‰

**YAML ç¤ºä¾‹:**
```yaml
- parallel:
    branches: 3
```

---

### åˆ†ç»„ (Group)

å°†ç›¸å…³èŠ‚ç‚¹ç»„ç»‡åœ¨ä¸€èµ·ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| label | string | æ˜¯ | åˆ†ç»„æ ‡ç­¾ |
| collapsed | boolean | å¦ | æ˜¯å¦æŠ˜å ï¼Œé»˜è®¤ false |
| color | string | å¦ | åˆ†ç»„é¢œè‰²ï¼Œé»˜è®¤ #e3f2fd |

---

## æ•°æ®èŠ‚ç‚¹

### è®¾ç½®å˜é‡ (Set Variable)

å®šä¹‰æˆ–æ›´æ–°å˜é‡ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | string | æ˜¯ | å˜é‡å |
| value | string | æ˜¯ | å˜é‡å€¼ |
| valueType | string | å¦ | ç±»å‹ï¼šstring/number/boolean |

**YAML ç¤ºä¾‹:**
```yaml
- set:
    var:
      name: username
      value: test@example.com
```

---

### æå–æ•°æ® (Extract Data)

ä»é¡µé¢æå–æ•°æ®ä¿å­˜åˆ°å˜é‡ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| target | string | æ˜¯ | ç›®æ ‡å…ƒç´ é€‰æ‹©å™¨ |
| variableName | string | æ˜¯ | ä¿å­˜åˆ°çš„å˜é‡å |
| extractType | string | å¦ | æå–ç±»å‹ï¼štext/attribute/ai |
| attribute | string | å¦ | å±æ€§åï¼ˆextractType=attribute æ—¶ï¼‰ |

**YAML ç¤ºä¾‹:**
```yaml
- extract:
    selector: h1
    into: title
```

---

### å¤–éƒ¨æ•°æ® (External Data)

ä»å¤–éƒ¨æºåŠ è½½æ•°æ®ã€‚

**é…ç½®é€‰é¡¹:**
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| source | string | æ˜¯ | æ•°æ®æº URL æˆ–æ–‡ä»¶è·¯å¾„ |
| format | string | å¦ | æ ¼å¼ï¼šjson/csv/apiï¼Œé»˜è®¤ json |

**YAML ç¤ºä¾‹:**
```yaml
- data:
    from: https://api.example.com/test-data
    format: json
```

---

## èŠ‚ç‚¹å›¾æ ‡è¯´æ˜

| ç±»åˆ« | å›¾æ ‡ | è¯´æ˜ |
|------|------|------|
| ç‰¹æ®Š | â­ | æµç¨‹æ§åˆ¶èŠ‚ç‚¹ |
| åŠ¨ä½œ | â–¶ï¸ | ç”¨æˆ·äº¤äº’æ“ä½œ |
| éªŒè¯ | âœ“ | æ–­è¨€å’Œæ£€æŸ¥ |
| æ§åˆ¶ | âŠ | é€»è¾‘æ§åˆ¶ç»“æ„ |
| æ•°æ® | ğŸ“Š | æ•°æ®å¤„ç† |

## ç«¯å£ç±»å‹è¯´æ˜

- **è¾“å…¥ç«¯å£** (ç™½è‰²): æ¥æ”¶æ¥è‡ªå‰ä¸€ä¸ªèŠ‚ç‚¹çš„è¿æ¥
- **è¾“å‡ºç«¯å£** (ç™½è‰²): è¿æ¥åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
- **æ¡ä»¶ç«¯å£** (ç»¿è‰²/çº¢è‰²): If-Else çš„ True/False åˆ†æ”¯
- **å¾ªåç«¯å£** (è“è‰²): å¾ªç¯ä½“è¿æ¥
